{"version":3,"sources":["UI/LikeButton/LikeButton.module.css","UI/Loader/Loader.module.css","styles/MovieSvg.module.css","store/reducer/actions.js","UI/LikeButton/LikeButton.jsx","assets/img/movie.svg","components/MovieSvg.jsx","components/Card.jsx","components/CardList.jsx","UI/Loader/Loader.jsx","components/ErrorComponent.jsx","components/App.jsx","utils/parseData.js","store/reducer/appReducer.js","store/reducer/index.js","store/saga/appSaga.js","store/saga/index.js","store/index.js","index.js"],"names":["module","exports","LOAD_DATA","LOAD_DATA_SUCCESS","LOAD_DATA_FAILURE","LOAD_COVER_FAILURE","DELETE_CARD","TOGGLE_LIKE","SET_FILTRED","LikeButton","liked","handleClick","className","cl","unliked","onClick","MovieSvg","container","src","svgPic","alt","Card","id","title","coverUrl","year","rating","imgError","dispatch","useDispatch","onError","e","target","onerror","type","payload","error","loadImgError","CardList","data","map","item","Loader","loader__container","loader","ErrorComponent","App","useSelector","state","app","isLoading","filtred","filtredData","useMemo","filter","useEffect","setFilter","bool","parseMovies","movie","hasOwnProperty","title_english","medium_cover_image","initialState","isLoadings","rootReducer","combineReducers","action","movies","loadData","appSaga","call","fetch","request","apply","json","put","takeEvery","rootSaga","all","sagaMiddleware","createSagaMiddleware","store","createStore","applyMiddleware","run","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4ca90c52.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"liked\":\"LikeButton_liked__1_zje\",\"unliked\":\"LikeButton_unliked__3NAcs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader__container\":\"Loader_loader__container__3F-pH\",\"loader\":\"Loader_loader__2VK6i\",\"rotate\":\"Loader_rotate__2bQYB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"MovieSvg_container__3lo4j\"};","export const LOAD_DATA = 'LOAD_DATA'\r\nexport const LOAD_DATA_SUCCESS = 'LOAD_DATA_SUCCESS'\r\nexport const LOAD_DATA_FAILURE = 'LOAD_DATA_FAILURE'\r\nexport const LOAD_COVER_FAILURE = 'LOAD_COVER_FAILURE'\r\nexport const DELETE_CARD = 'DELETE_CARD'\r\nexport const TOGGLE_LIKE = 'TOGGLE_LIKE'\r\nexport const SET_FILTRED = 'SET_FILTRED'","import React from 'react'\r\nimport cl from './LikeButton.module.css'\r\n\r\nconst LikeButton = ({ liked, handleClick }) => {\r\n    return (\r\n        <div className={liked ? cl.liked : cl.unliked} onClick={handleClick}>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LikeButton","export default __webpack_public_path__ + \"static/media/movie.1c31fd83.svg\";","import React from 'react'\r\nimport cl from '../styles/MovieSvg.module.css'\r\nimport svgPic from '../assets/img/movie.svg'\r\n\r\nconst MovieSvg = () => {\r\n    return (\r\n        <div className={cl.container}>\r\n            <img src={svgPic} alt='Cover' />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MovieSvg","import React from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { DELETE_CARD, LOAD_COVER_FAILURE, TOGGLE_LIKE } from '../store/reducer/actions'\r\nimport '../styles/Card.css'\r\nimport LikeButton from '../UI/LikeButton/LikeButton'\r\nimport MovieSvg from './MovieSvg'\r\n\r\nconst Card = ({ id, title, coverUrl, year, rating, liked, imgError }) => {\r\n    const dispatch = useDispatch()\r\n\r\n    const loadImgError = (e) => {\r\n        e.target.onerror = null\r\n        dispatch({\r\n            type: LOAD_COVER_FAILURE,\r\n            payload: {\r\n                id: id,\r\n                error: true\r\n            }\r\n        })\r\n    }\r\n\r\n    const deleteCard = () => {\r\n        dispatch({\r\n            type: DELETE_CARD,\r\n            payload: id\r\n        })\r\n    }\r\n\r\n    const toggleLike = () => {\r\n        dispatch({\r\n            type: TOGGLE_LIKE,\r\n            payload: {\r\n                id: id,\r\n                liked: !liked\r\n            }\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className='card__container'>\r\n            {\r\n                imgError ?\r\n                    <MovieSvg />\r\n                    :\r\n                    <img\r\n                        src={coverUrl}\r\n                        alt='Cover'\r\n                        className='cover'\r\n                        onError={(e) => loadImgError(e)}\r\n                    />\r\n            }\r\n            <div className='card__description'>\r\n                <span>{title}</span>\r\n                {(year !== 0) && <span>{`(${year})`}</span>}\r\n                <span>{`Rating: ${rating !== 0 ? rating : '-'}`}</span>\r\n            </div>\r\n            <div className='deleteButton' onClick={deleteCard}></div>\r\n            <LikeButton\r\n                liked={liked}\r\n                handleClick={toggleLike}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Card","import React from 'react'\r\nimport Card from './Card'\r\nimport '../styles/CardList.css'\r\n\r\nconst CardList = ({ data }) => {\r\n    return (\r\n        <div className='cardList'>\r\n            {data.map(item => <Card\r\n                key={item.id}\r\n                id={item.id}\r\n                title={item.title}\r\n                coverUrl={item.coverUrl}\r\n                year={item.year}\r\n                rating={item.rating}\r\n                liked={item.liked}\r\n                imgError={item.imgError}\r\n            />)}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CardList","import React from 'react'\r\nimport cl from './Loader.module.css'\r\n\r\nconst Loader = () => {\r\n    return (\r\n        <div className={cl.loader__container}>\r\n            <div className={cl.loader}>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loader","import React from 'react'\r\nimport '../styles/ErrorComponent.css'\r\n\r\nconst ErrorComponent = () => {\r\n    return (\r\n        <div className='error__container'>\r\n            <span>Loading error</span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ErrorComponent","import React, { useEffect, useMemo } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { LOAD_DATA, SET_FILTRED } from '../store/reducer/actions'\nimport '../styles/App.css'\nimport CardList from './CardList'\nimport Loader from '../UI/Loader/Loader'\nimport ErrorComponent from '../components/ErrorComponent'\n\nfunction App() {\n  const dispatch = useDispatch()\n  const { data, isLoading, error, filtred } = useSelector(state => state.app)\n  const filtredData = useMemo(() => {\n    return data.filter(item => item.liked)\n  }, [data])\n\n  useEffect(() => {\n    dispatch({\n      type: LOAD_DATA\n    })\n  }, [dispatch])\n\n  const setFilter = (bool) => {\n    dispatch({\n      type: SET_FILTRED,\n      payload: bool\n    })\n  }\n\n  if (error) {\n    return <ErrorComponent />\n  }\n\n  return (\n    <div className='app__container'>\n      <h1 className='app__title'>Card Wiever</h1>\n      {isLoading ? <Loader /> : <CardList data={filtred ? filtredData : data} />}\n      {\n        filtred ?\n          <button className='filterButton' onClick={() => setFilter(false)}>Show all</button>\n          :\n          <button className='filterButton' onClick={() => setFilter(true)}>Show liked</button>\n      }\n    </div>\n  )\n}\n\nexport default App","export const parseMovies = (data) => {\r\n    return data.map(item => {\r\n        const movie = {}\r\n        if (item.hasOwnProperty('id')) {\r\n            movie.id = item.id\r\n        }\r\n        if (item.hasOwnProperty('title_english')) {\r\n            movie.title = item.title_english\r\n        } else {\r\n            movie.title = item.title\r\n        }\r\n        if (item.hasOwnProperty('year')) {\r\n            movie.year = item.year\r\n        }\r\n        if (item.hasOwnProperty('rating')) {\r\n            movie.rating = item.rating\r\n        }\r\n        if (item.hasOwnProperty('medium_cover_image')) {\r\n            movie.coverUrl = item.medium_cover_image\r\n        }\r\n        movie.liked = false\r\n        movie.imgError = null\r\n        return movie\r\n    })\r\n}","import { parseMovies } from '../../utils/parseData'\r\nimport { DELETE_CARD, LOAD_COVER_FAILURE, LOAD_DATA, LOAD_DATA_FAILURE, LOAD_DATA_SUCCESS, SET_FILTRED, TOGGLE_LIKE } from './actions'\r\n\r\n\r\nconst initialState = {\r\n    data: [],\r\n    isLoadings: false,\r\n    filtred: false,\r\n    error: null\r\n}\r\n\r\nexport const appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case LOAD_DATA:\r\n            return {\r\n                ...state,\r\n                isLoading: true\r\n            }\r\n\r\n        case LOAD_DATA_SUCCESS:\r\n            return {\r\n                ...state,\r\n                isLoading: false,\r\n                data: parseMovies(action.payload.movies)\r\n            }\r\n\r\n        case LOAD_DATA_FAILURE:\r\n            return {\r\n                ...state,\r\n                isLoading: false,\r\n                error: action.payload\r\n            }\r\n\r\n        case LOAD_COVER_FAILURE:\r\n            return {\r\n                ...state,\r\n                data: state.data.map(item => {\r\n                    if (item.id === action.payload.id) {\r\n                        return {\r\n                            ...item,\r\n                            imgError: action.payload.error\r\n                        }\r\n                    }\r\n                    return item\r\n                })\r\n            }\r\n\r\n        case DELETE_CARD:\r\n            return {\r\n                ...state,\r\n                data: state.data.filter(item => item.id !== action.payload)\r\n            }\r\n\r\n        case TOGGLE_LIKE:\r\n            return {\r\n                ...state,\r\n                data: state.data.map(item => {\r\n                    if (item.id === action.payload.id) {\r\n                        return {\r\n                            ...item,\r\n                            liked: action.payload.liked\r\n                        }\r\n                    }\r\n                    return item\r\n                })\r\n            }\r\n\r\n        case SET_FILTRED:\r\n            return {\r\n                ...state,\r\n                filtred: action.payload\r\n            }\r\n        \r\n        default:\r\n            return state\r\n    }\r\n}","import { combineReducers } from 'redux'\r\nimport { appReducer } from './appReducer'\r\n\r\n\r\nexport const rootReducer = combineReducers({\r\n    app: appReducer\r\n})","import { call, apply, takeEvery, put } from 'redux-saga/effects'\r\nimport { LOAD_DATA, LOAD_DATA_FAILURE, LOAD_DATA_SUCCESS } from '../reducer/actions'\r\n\r\nexport function* loadData() {\r\n    try {\r\n        const request = yield call(\r\n            fetch,\r\n            `https://yts.mx/api/v2/list_movies.json?page=1&limit=20`\r\n        )\r\n        const data = yield apply(request, request.json)\r\n        yield put({\r\n            type: LOAD_DATA_SUCCESS,\r\n            payload: data.data\r\n        })\r\n    } catch (error) {\r\n        yield put({\r\n            type: LOAD_DATA_FAILURE,\r\n            payload: error\r\n        })\r\n    }\r\n}\r\n\r\nexport function* appSaga() {\r\n    yield takeEvery(LOAD_DATA, loadData)\r\n}","import { all } from 'redux-saga/effects'\r\nimport { appSaga } from './appSaga'\r\n\r\n\r\nexport default function* rootSaga() {\r\n    yield all([\r\n        appSaga()\r\n    ])\r\n}","import createSagaMiddleware from 'redux-saga'\r\nimport { applyMiddleware, createStore } from 'redux'\r\nimport { rootReducer } from './reducer'\r\nimport rootSaga from './saga'\r\n\r\nconst sagaMiddleware = createSagaMiddleware()\r\n\r\nexport const store = createStore(rootReducer, applyMiddleware(sagaMiddleware))\r\n\r\nsagaMiddleware.run(rootSaga)","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './styles/index.css'\nimport App from './components/App'\nimport { Provider } from 'react-redux'\nimport { store } from './store/index'\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n)"],"sourceRoot":""}